{"version":3,"file":"index-f780e9b1.js","sources":["../../../../../../node_modules/@douganderson444/pointer-tracker/dist/PointerTracker.mjs","../../../../../../node_modules/@douganderson444/svelte-plumb/node_modules/nanoid/index.browser.js","../../../../../../node_modules/@douganderson444/svelte-plumb/src/lib/CursorMarker.svelte","../../../../../../node_modules/d3-path/src/path.js","../../../../../../node_modules/d3-shape/src/constant.js","../../../../../../node_modules/d3-shape/src/array.js","../../../../../../node_modules/d3-shape/src/point.js","../../../../../../node_modules/d3-shape/src/curve/bump.js","../../../../../../node_modules/d3-shape/src/link.js","../../../../../../node_modules/@douganderson444/svelte-plumb/src/lib/Links.svelte","../../../../../../node_modules/@douganderson444/svelte-plumb/src/lib/Highlighter.svelte","../../../../../../node_modules/@douganderson444/svelte-plumb/src/lib/utils.js","../../../../../../node_modules/@douganderson444/svelte-plumb/src/lib/Canvas.svelte","../../../../../../node_modules/@douganderson444/svelte-plumb/src/lib/EndPoint.svelte"],"sourcesContent":["class Pointer {\r\n    constructor(nativePointer) {\r\n        /** Unique ID for this pointer */\r\n        this.id = -1;\r\n        this.nativePointer = nativePointer;\r\n        this.pageX = nativePointer.pageX;\r\n        this.pageY = nativePointer.pageY;\r\n        this.clientX = nativePointer.clientX;\r\n        this.clientY = nativePointer.clientY;\r\n        if (self.Touch && nativePointer instanceof Touch) {\r\n            this.id = nativePointer.identifier;\r\n        }\r\n        else if (isPointerEvent(nativePointer)) {\r\n            // is PointerEvent\r\n            this.id = nativePointer.pointerId;\r\n        }\r\n    }\r\n    /**\r\n     * Returns an expanded set of Pointers for high-resolution inputs.\r\n     */\r\n    getCoalesced() {\r\n        if ('getCoalescedEvents' in this.nativePointer) {\r\n            const events = this.nativePointer\r\n                .getCoalescedEvents()\r\n                .map((p) => new Pointer(p));\r\n            // Firefox sometimes returns an empty list here. I'm not sure it's doing the right thing.\r\n            // https://github.com/w3c/pointerevents/issues/409\r\n            if (events.length > 0)\r\n                return events;\r\n            // Otherwise, Firefox falls through…\r\n        }\r\n        return [this];\r\n    }\r\n}\r\nconst isPointerEvent = (event) => 'pointerId' in event;\r\nconst isTouchEvent = (event) => 'changedTouches' in event;\r\nconst noop = () => { };\r\n/**\r\n * Track pointers across a particular element\r\n */\r\nclass PointerTracker {\r\n    /**\r\n     * Track pointers across a particular element\r\n     *\r\n     * @param element Element to monitor.\r\n     * @param options\r\n     */\r\n    constructor(_element, { start = () => true, move = noop, end = noop, rawUpdates = false, avoidPointerEvents = false, eventListenerOptions = { capture: false, passive: false, once: false }, } = {}) {\r\n        this._element = _element;\r\n        /**\r\n         * State of the tracked pointers when they were pressed/touched.\r\n         */\r\n        this.startPointers = [];\r\n        /**\r\n         * Latest state of the tracked pointers. Contains the same number of pointers, and in the same\r\n         * order as this.startPointers.\r\n         */\r\n        this.currentPointers = [];\r\n        /**\r\n         * Firefox has a bug where touch-based pointer events have a `buttons` of 0, when this shouldn't\r\n         * happen. https://bugzilla.mozilla.org/show_bug.cgi?id=1729440\r\n         *\r\n         * Usually we treat `buttons === 0` as no-longer-pressed. This set allows us to exclude these\r\n         * buggy Firefox events.\r\n         */\r\n        this._excludeFromButtonsCheck = new Set();\r\n        /**\r\n         * Listener for mouse/pointer starts.\r\n         *\r\n         * @param event This will only be a MouseEvent if the browser doesn't support pointer events.\r\n         */\r\n        this._pointerStart = (event) => {\r\n            if (isPointerEvent(event) && event.buttons === 0) {\r\n                // This is the buggy Firefox case. See _excludeFromButtonsCheck.\r\n                this._excludeFromButtonsCheck.add(event.pointerId);\r\n            }\r\n            else if (!(event.buttons & 1 /* LeftMouseOrTouchOrPenDown */)) {\r\n                return;\r\n            }\r\n            const pointer = new Pointer(event);\r\n            // If we're already tracking this pointer, ignore this event.\r\n            // This happens with mouse events when multiple buttons are pressed.\r\n            if (this.currentPointers.some((p) => p.id === pointer.id))\r\n                return;\r\n            if (!this._triggerPointerStart(pointer, event))\r\n                return;\r\n            // Add listeners for additional events.\r\n            // The listeners may already exist, but no harm in adding them again.\r\n            if (isPointerEvent(event)) {\r\n                const capturingElement = event.target && 'setPointerCapture' in event.target\r\n                    ? event.target\r\n                    : this._element;\r\n                capturingElement.setPointerCapture(event.pointerId);\r\n                this._element.addEventListener(this._rawUpdates ? 'pointerrawupdate' : 'pointermove', this._move, this._eventListenerOptions);\r\n                this._element.addEventListener('pointerup', this._pointerEnd, this._eventListenerOptions);\r\n                this._element.addEventListener('pointercancel', this._pointerEnd, this._eventListenerOptions);\r\n            }\r\n            else {\r\n                // MouseEvent\r\n                window.addEventListener('mousemove', this._move);\r\n                window.addEventListener('mouseup', this._pointerEnd);\r\n            }\r\n        };\r\n        /**\r\n         * Listener for touchstart.\r\n         * Only used if the browser doesn't support pointer events.\r\n         */\r\n        this._touchStart = (event) => {\r\n            for (const touch of Array.from(event.changedTouches)) {\r\n                this._triggerPointerStart(new Pointer(touch), event);\r\n            }\r\n        };\r\n        /**\r\n         * Listener for pointer/mouse/touch move events.\r\n         */\r\n        this._move = (event) => {\r\n            if (!isTouchEvent(event) &&\r\n                (!isPointerEvent(event) ||\r\n                    !this._excludeFromButtonsCheck.has(event.pointerId)) &&\r\n                event.buttons === 0 /* None */) {\r\n                // This happens in a number of buggy cases where the browser failed to deliver a pointerup\r\n                // or pointercancel. If we see the pointer moving without any buttons down, synthesize an end.\r\n                // https://github.com/w3c/pointerevents/issues/407\r\n                // https://github.com/w3c/pointerevents/issues/408\r\n                this._pointerEnd(event);\r\n                return;\r\n            }\r\n            const previousPointers = this.currentPointers.slice();\r\n            const changedPointers = isTouchEvent(event)\r\n                ? Array.from(event.changedTouches).map((t) => new Pointer(t))\r\n                : [new Pointer(event)];\r\n            const trackedChangedPointers = [];\r\n            for (const pointer of changedPointers) {\r\n                const index = this.currentPointers.findIndex((p) => p.id === pointer.id);\r\n                if (index === -1)\r\n                    continue; // Not a pointer we're tracking\r\n                trackedChangedPointers.push(pointer);\r\n                this.currentPointers[index] = pointer;\r\n            }\r\n            if (trackedChangedPointers.length === 0)\r\n                return;\r\n            this._moveCallback(previousPointers, trackedChangedPointers, event);\r\n        };\r\n        /**\r\n         * Call the end callback for this pointer.\r\n         *\r\n         * @param pointer Pointer\r\n         * @param event Related event\r\n         */\r\n        this._triggerPointerEnd = (pointer, event) => {\r\n            // Main button still down?\r\n            // With mouse events, you get a mouseup per mouse button, so the left button might still be down.\r\n            if (!isTouchEvent(event) &&\r\n                event.buttons & 1 /* LeftMouseOrTouchOrPenDown */) {\r\n                return false;\r\n            }\r\n            const index = this.currentPointers.findIndex((p) => p.id === pointer.id);\r\n            // Not a pointer we're interested in?\r\n            if (index === -1)\r\n                return false;\r\n            this.currentPointers.splice(index, 1);\r\n            this.startPointers.splice(index, 1);\r\n            this._excludeFromButtonsCheck.delete(pointer.id);\r\n            // The event.type might be a 'move' event due to workarounds for weird mouse behaviour.\r\n            // See _move for details.\r\n            const cancelled = !(event.type === 'mouseup' ||\r\n                event.type === 'touchend' ||\r\n                event.type === 'pointerup');\r\n            this._endCallback(pointer, event, cancelled);\r\n            return true;\r\n        };\r\n        /**\r\n         * Listener for mouse/pointer ends.\r\n         *\r\n         * @param event This will only be a MouseEvent if the browser doesn't support pointer events.\r\n         */\r\n        this._pointerEnd = (event) => {\r\n            if (!this._triggerPointerEnd(new Pointer(event), event))\r\n                return;\r\n            if (isPointerEvent(event)) {\r\n                if (this.currentPointers.length)\r\n                    return;\r\n                this._element.removeEventListener(this._rawUpdates ? 'pointerrawupdate' : 'pointermove', this._move);\r\n                this._element.removeEventListener('pointerup', this._pointerEnd);\r\n                this._element.removeEventListener('pointercancel', this._pointerEnd);\r\n            }\r\n            else {\r\n                // MouseEvent\r\n                window.removeEventListener('mousemove', this._move);\r\n                window.removeEventListener('mouseup', this._pointerEnd);\r\n            }\r\n        };\r\n        /**\r\n         * Listener for touchend.\r\n         * Only used if the browser doesn't support pointer events.\r\n         */\r\n        this._touchEnd = (event) => {\r\n            for (const touch of Array.from(event.changedTouches)) {\r\n                this._triggerPointerEnd(new Pointer(touch), event);\r\n            }\r\n        };\r\n        this._startCallback = start;\r\n        this._moveCallback = move;\r\n        this._endCallback = end;\r\n        this._rawUpdates = rawUpdates && 'onpointerrawupdate' in window;\r\n        this._eventListenerOptions = eventListenerOptions;\r\n        // Add listeners\r\n        if (self.PointerEvent && !avoidPointerEvents) {\r\n            this._element.addEventListener('pointerdown', this._pointerStart, this._eventListenerOptions);\r\n        }\r\n        else {\r\n            this._element.addEventListener('mousedown', this._pointerStart, this._eventListenerOptions);\r\n            this._element.addEventListener('touchstart', this._touchStart, this._eventListenerOptions);\r\n            this._element.addEventListener('touchmove', this._move, this._eventListenerOptions);\r\n            this._element.addEventListener('touchend', this._touchEnd, this._eventListenerOptions);\r\n            this._element.addEventListener('touchcancel', this._touchEnd, this._eventListenerOptions);\r\n        }\r\n    }\r\n    /**\r\n     * Remove all listeners.\r\n     */\r\n    stop() {\r\n        this._element.removeEventListener('pointerdown', this._pointerStart);\r\n        this._element.removeEventListener('mousedown', this._pointerStart);\r\n        this._element.removeEventListener('touchstart', this._touchStart);\r\n        this._element.removeEventListener('touchmove', this._move);\r\n        this._element.removeEventListener('touchend', this._touchEnd);\r\n        this._element.removeEventListener('touchcancel', this._touchEnd);\r\n        this._element.removeEventListener(this._rawUpdates ? 'pointerrawupdate' : 'pointermove', this._move);\r\n        this._element.removeEventListener('pointerup', this._pointerEnd);\r\n        this._element.removeEventListener('pointercancel', this._pointerEnd);\r\n        window.removeEventListener('mousemove', this._move);\r\n        window.removeEventListener('mouseup', this._pointerEnd);\r\n    }\r\n    /**\r\n     * Call the start callback for this pointer, and track it if the user wants.\r\n     *\r\n     * @param pointer Pointer\r\n     * @param event Related event\r\n     * @returns Whether the pointer is being tracked.\r\n     */\r\n    _triggerPointerStart(pointer, event) {\r\n        if (!this._startCallback(pointer, event))\r\n            return false;\r\n        this.currentPointers.push(pointer);\r\n        this.startPointers.push(pointer);\r\n        return true;\r\n    }\r\n}\n\nexport { PointerTracker as default };\n","export { urlAlphabet } from './url-alphabet/index.js'\nexport let random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\nexport let customRandom = (alphabet, defaultSize, getRandom) => {\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  let step = -~((1.6 * mask * defaultSize) / alphabet.length)\n  return (size = defaultSize) => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      let j = step\n      while (j--) {\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\nexport let customAlphabet = (alphabet, size = 21) =>\n  customRandom(alphabet, size, random)\nexport let nanoid = (size = 21) =>\n  crypto.getRandomValues(new Uint8Array(size)).reduce((id, byte) => {\n    byte &= 63\n    if (byte < 36) {\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte > 62) {\n      id += '-'\n    } else {\n      id += '_'\n    }\n    return id\n  }, '')\n","<script>\n\t// @ts-nocheck\n\n\texport let marker;\n\texport let id;\n\texport let left;\n\texport let top;\n\n\tlet offsetWidth;\n\tlet offsetHeight;\n\n\t$: x = left - offsetWidth / 2;\n\t$: y = top - offsetHeight / 2;\n</script>\n\n<div\n\tbind:this={marker}\n\t{id}\n\tclass=\"absolute\"\n\tstyle=\"left:{x}px; top:{y}px;\"\n\tbind:offsetWidth\n\tbind:offsetHeight\n>\n\t<slot>\n\t\t<div\n\t\t\tclass=\"h-16 w-16 p-8 rounded-full shadow-xl opacity-80 select-none border-[2em] border-pink-500/50\"\n\t\t/>\n\t</slot>\n</div>\n","const pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? We’re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export var slice = Array.prototype.slice;\n\nexport default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import pointRadial from \"../pointRadial.js\";\n\nclass Bump {\n  constructor(context, x) {\n    this._context = context;\n    this._x = x;\n  }\n  areaStart() {\n    this._line = 0;\n  }\n  areaEnd() {\n    this._line = NaN;\n  }\n  lineStart() {\n    this._point = 0;\n  }\n  lineEnd() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  }\n  point(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: {\n        this._point = 1;\n        if (this._line) this._context.lineTo(x, y);\n        else this._context.moveTo(x, y);\n        break;\n      }\n      case 1: this._point = 2; // falls through\n      default: {\n        if (this._x) this._context.bezierCurveTo(this._x0 = (this._x0 + x) / 2, this._y0, this._x0, y, x, y);\n        else this._context.bezierCurveTo(this._x0, this._y0 = (this._y0 + y) / 2, x, this._y0, x, y);\n        break;\n      }\n    }\n    this._x0 = x, this._y0 = y;\n  }\n}\n\nclass BumpRadial {\n  constructor(context) {\n    this._context = context;\n  }\n  lineStart() {\n    this._point = 0;\n  }\n  lineEnd() {}\n  point(x, y) {\n    x = +x, y = +y;\n    if (this._point++ === 0) {\n      this._x0 = x, this._y0 = y;\n    } else {\n      const p0 = pointRadial(this._x0, this._y0);\n      const p1 = pointRadial(this._x0, this._y0 = (this._y0 + y) / 2);\n      const p2 = pointRadial(x, this._y0);\n      const p3 = pointRadial(x, y);\n      this._context.moveTo(...p0);\n      this._context.bezierCurveTo(...p1, ...p2, ...p3);\n    }\n  }\n}\n\nexport function bumpX(context) {\n  return new Bump(context, true);\n}\n\nexport function bumpY(context) {\n  return new Bump(context, false);\n}\n\nexport function bumpRadial(context) {\n  return new BumpRadial(context);\n}\n","import {path} from \"d3-path\";\nimport {slice} from \"./array.js\";\nimport constant from \"./constant.js\";\nimport {bumpX, bumpY, bumpRadial} from \"./curve/bump.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nfunction linkSource(d) {\n  return d.source;\n}\n\nfunction linkTarget(d) {\n  return d.target;\n}\n\nexport function link(curve) {\n  let source = linkSource;\n  let target = linkTarget;\n  let x = pointX;\n  let y = pointY;\n  let context = null;\n  let output = null;\n\n  function link() {\n    let buffer;\n    const argv = slice.call(arguments);\n    const s = source.apply(this, argv);\n    const t = target.apply(this, argv);\n    if (context == null) output = curve(buffer = path());\n    output.lineStart();\n    argv[0] = s, output.point(+x.apply(this, argv), +y.apply(this, argv));\n    argv[0] = t, output.point(+x.apply(this, argv), +y.apply(this, argv));\n    output.lineEnd();\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  link.source = function(_) {\n    return arguments.length ? (source = _, link) : source;\n  };\n\n  link.target = function(_) {\n    return arguments.length ? (target = _, link) : target;\n  };\n\n  link.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), link) : x;\n  };\n\n  link.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), link) : y;\n  };\n\n  link.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), link) : context;\n  };\n\n  return link;\n}\n\nexport function linkHorizontal() {\n  return link(bumpX);\n}\n\nexport function linkVertical() {\n  return link(bumpY);\n}\n\nexport function linkRadial() {\n  const l = link(bumpRadial);\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n  return l;\n}\n","<script>\n\t// @ts-nocheck\n\n\t// https://github.com/Rich-Harris/svelte-d3-arc-demo/blob/master/src/Viz.svelte\n\t// https://github.com/d3/d3-shape/blob/v3.1.0/README.md#_link\n\timport { onMount } from 'svelte';\n\timport { link, curveBumpX } from 'd3-shape';\n\n\texport let links;\n\texport let calcOffsetFromCanvas;\n\n\texport let strokeColor = 'green';\n\texport let strokeWidth = 1;\n\texport let arrowColor = 'green';\n\n\texport let strokeOpacity = '0.3';\n\n\texport let groupStrokeOpacity = '0.1';\n\texport let groupStrokeColor = 'white';\n\n\texport let textStartOffset = 20; // %\n\texport let arrowStartOffset = '40%';\n\n\tconst generateXcurve = link(curveBumpX);\n\n\tlet mounted;\n\n\tlet sourceX, sourceY, targetX, targetY;\n\n\tonMount(() => {\n\t\tmounted = true;\n\t});\n\n\tfunction genPath(link) {\n\t\tlet sourceEl = document.getElementById(link.source.id);\n\t\tlet targetEl = document.getElementById(link.target.id);\n\n\t\tif (!sourceEl || !targetEl) return;\n\n\t\t// centered\n\t\tconst { x: sx, y: sy } = calcOffsetFromCanvas(sourceEl);\n\t\tconst { x: tx, y: ty } = calcOffsetFromCanvas(targetEl);\n\n\t\t/**\n\t\t * Not sure why the svgs are slightly off by 3 pixels, but this is a workaround\n\t\t */\n\t\tsourceX = sx + sourceEl.offsetWidth / 2;\n\t\tsourceY = sy + sourceEl.offsetHeight / 2;\n\t\ttargetX = tx + targetEl.offsetWidth / 2;\n\t\ttargetY = ty + targetEl.offsetHeight / 2;\n\n\t\tlet d = generateXcurve({\n\t\t\tsource: [sourceX, sourceY],\n\t\t\ttarget: [targetX, targetY]\n\t\t});\n\n\t\treturn d;\n\t}\n</script>\n\n{#if mounted && links && links.length > 0}\n\t<svg style=\"pointer-events: none;\">\n\t\t{#each links as link, i}\n\t\t\t{#if link && mounted}\n\t\t\t\t<g stroke={groupStrokeColor} stroke-opacity={groupStrokeOpacity}>\n\t\t\t\t\t<path\n\t\t\t\t\t\td={genPath(link)}\n\t\t\t\t\t\tid={link.id}\n\t\t\t\t\t\tstroke-width={strokeWidth}\n\t\t\t\t\t\tstroke={strokeColor}\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\tstroke-opacity={strokeOpacity}\n\t\t\t\t\t/>\n\t\t\t\t\t<text>\n\t\t\t\t\t\t<textPath xlink:href=\"#{link.id}\" startOffset={textStartOffset + '%'}>\n\t\t\t\t\t\t\t<tspan fill=\"black\"\n\t\t\t\t\t\t\t\t>{link?.opts?.label?.enabled ? link?.opts?.label?.value : ''}</tspan\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t</textPath>\n\t\t\t\t\t\t<textPath\n\t\t\t\t\t\t\txlink:href=\"#{link.id}\"\n\t\t\t\t\t\t\tstartOffset={arrowStartOffset}\n\t\t\t\t\t\t\tfill={arrowColor}\n\t\t\t\t\t\t\topacity={strokeOpacity * 1.3}>➤</textPath\n\t\t\t\t\t\t>\n\t\t\t\t\t</text>\n\t\t\t\t</g>\n\t\t\t{/if}\n\t\t{/each}\n\t</svg>\n{/if}\n\n<style>\n\tsvg {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tfloat: left;\n\t\tstroke-width: 5;\n\t\t/* z-index: -1; */\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\n\ttext {\n\t\tfont-family: arrows;\n\t\tfont-size: 1.5em;\n\t\tfill: grey;\n\t\tdominant-baseline: central;\n\t}\n\n\ttspan {\n\t\tfont-family: 'Luckiest Guy', cursive;\n\t\tfont-size: 0.75em;\n\t\t/* font-family: Impact; */\n\t\tdominant-baseline: ideographic;\n\t}\n\n\t/* @font-face {\n\t\tfont-family: arrows;\n\t\tsrc: url(arrows.woff);\n\t} */\n\n\t@font-face {\n\t\tfont-family: 'Luckiest Guy';\n\t\tfont-style: normal;\n\t\tfont-weight: 400;\n\t\tsrc: url(https://fonts.gstatic.com/s/luckiestguy/v17/_gP_1RrxsjcxVyin9l9n_j2hTd52.woff2)\n\t\t\tformat('woff2');\n\t\tunicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC,\n\t\t\tU+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;\n\t}\n</style>\n","<script>\n\t// @ts-nocheck\n\n\texport let node;\n\texport let zoneSize = 2;\n\texport let highlight = false; // export makes it possible to set externally from the touch listener\n\n\tlet dot;\n\n\t// OVERLAY on center of parent node\n\t$: top = dot ? -dot.offsetHeight / 2 + node.offsetHeight / 2 : 0;\n\t$: left = dot ? -dot.offsetWidth / 2 + node.offsetWidth / 2 : 0;\n\n\t// move the dot underneath the node its highlighting in the DOM, so events bubble easily\n\t$: if (dot) node.insertAdjacentElement('beforeend', dot);\n\n\t// if node has a z-index, set dot z-index minus one so it's below the node, if node has no z-index, set it to 2\n\t// $: if (dot) dot.style.zIndex = node.style.zIndex - 1;\n</script>\n\n<svelte:window\n\ton:resize={(e) => {\n\t\ttop = top;\n\t\tleft = left;\n\t}}\n/>\n\n<!-- Need to get the position of the node that was passed in\n    then set this style to same as node -->\n\n<div\n\tid={node.id + '--highlighter'}\n\tdata-highlighter=\"true\"\n\tclass=\"absolute\n\tborder-[{zoneSize + 'em'}] \n\tmd:border-[{zoneSize / 2 + 'em'}] \n\tborder-transparent rounded-full p-0 m-0 \"\n\tstyle=\"top: {top}px; left: {left}px;\"\n\tbind:this={dot}\n\ton:mouseover={(e) => {\n\t\thighlight = true; // actually this is redundant because overHighlighter in Canvas.svelte, but it's here for clarity\n\t}}\n\ton:mouseleave={(e) => {\n\t\thighlight = false;\n\t}}\n\ton:focus={(e) => {\n\t\thighlight = true;\n\t}}\n\ton:blur={(e) => {\n\t\thighlight = false;\n\t}}\n>\n\t{#if highlight}\n\t\t<slot>\n\t\t\t<div\n\t\t\t\tstyle=\"transform: translate(-50%, -50%);\"\n\t\t\t\tclass=\"absolute \n\t\t\t\tborder-[{zoneSize + 'em'}] \n\t\t\t\tmd:border-[{zoneSize / 2 + 'em'}] \n\t\t\t\tborder-yellow-200/40 ring-2 ring-black h-0 w-0 rounded-full\"\n\t\t\t/>\n\t\t</slot>\n\t{/if}\n</div>\n","// get data nodes value from matching node.id\nexport const generateLinkLabel = (nodes, sourceID, targetID = false) => {\n\tconst match = nodes.find((el) => el.id == sourceID);\n\tif (!match || !match.value) return '';\n\tif (!targetID) return match.value + ' to';\n\n\tconst match2 = nodes.find((el) => el.id == targetID);\n\tif (!match2) return match.value;\n\treturn `${match.value} to ${match2.value}`;\n};\n","<script>\n\t// @ts-nocheck\n\n\t// Data update Event options:\n\t/**\n\t * 1. dispatch even to Parent\n\t * 2. dispatch event to node via directive\n\t * 3. bind the data through a prop\n\t */\n\timport { createEventDispatcher } from 'svelte';\n\timport PointerTracker from '@douganderson444/pointer-tracker';\n\timport { nanoid } from 'nanoid';\n\n\timport CursorMarker from './CursorMarker.svelte';\n\timport Links from './Links.svelte';\n\timport Highlighter from './Highlighter.svelte';\n\timport { generateLinkLabel } from './utils.js';\n\n\texport let data;\n\texport let opts = {};\n\n\tconst dispatch = createEventDispatcher();\n\n\tlet highlighters = {};\n\n\tlet canvas;\n\tlet connecting;\n\tlet marker;\n\tlet tempLink = null; // connecting, temp tempLink from node to marker\n\n\tconst MARKER = 'marker';\n\tconst DROPZONE = 'dropzone';\n\n\tlet left = 0;\n\tlet top = 0;\n\n\tfunction handler(p, e) {\n\t\te.stopPropagation(); // afftect this event target only, not the ones below it\n\t\te.preventDefault(); // prevents scrolling whilst dragging\n\t\tleft = p.pageX - canvas.offsetLeft;\n\t\ttop = p.pageY - canvas.offsetTop;\n\t}\n\n\tfunction calcOffsetFromCanvas(child) {\n\t\tif (!child) return;\n\t\tif (child == canvas) return { x: child.offsetLeft, y: child.offsetTop };\n\t\t// need to get the offetTop from canvas, which may be different from the sourceEl offetTop\n\t\t// get different between bounding rect top between sourceEl and canvas\n\t\tlet sourceOffsetTop = child.getBoundingClientRect().top;\n\t\tlet canvasOffsetTop = canvas.getBoundingClientRect().top;\n\t\tlet sourceOffsetTopDiff = sourceOffsetTop - canvasOffsetTop; // zero if same\n\t\tlet sourceOffsetTopDiffPx = sourceOffsetTopDiff * window.devicePixelRatio;\n\n\t\t// same for left\n\t\tlet sourceOffsetLeft = child.getBoundingClientRect().left;\n\t\tlet canvasOffsetLeft = canvas.getBoundingClientRect().left;\n\t\tlet sourceOffsetLeftDiff = sourceOffsetLeft - canvasOffsetLeft; // zero if same\n\t\tlet sourceOffsetLeftDiffPx = sourceOffsetLeftDiff * window.devicePixelRatio;\n\n\t\treturn { x: sourceOffsetLeftDiff, y: sourceOffsetTopDiff };\n\t}\n\n\tfunction connectable(node, options) {\n\t\tif (!node.id) node.id = nanoid();\n\n\t\t// TODO: Handle absolute nodes, create a relative child?\n\t\tif (!node.style.position) node.style.position = 'relative';\n\n\t\tlet highlight = false;\n\t\tlet overZone;\n\n\t\t// add to list of nodes to highlight when connecting\n\t\thighlighters[node.id] = { node, highlight };\n\n\t\t// Applying Restrictions\n\t\t// limit source count (single, multiples), target count, etc. # of connections per connectable\n\t\tlet pointerTracker;\n\n\t\t// Add data-* attriutes to connectable node\n\t\tif (options?.dataset) node.dataset.dataset = JSON.stringify(options.dataset);\n\n\t\tif (!options?.restrictions?.startOnly) node.dataset.dropzone = true;\n\n\t\tif (!options?.restrictions?.dropOnly)\n\t\t\tpointerTracker = new PointerTracker(node, {\n\t\t\t\tstart(pointer, event) {\n\t\t\t\t\t// track only 1 pointer at a time\n\t\t\t\t\tif (pointerTracker.currentPointers.length === 1) return false;\n\n\t\t\t\t\tconnecting = true;\n\t\t\t\t\thandler(pointer, event);\n\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\t\t\t\tmove(previousPointers, changedPointers, event) {\n\t\t\t\t\thandler(pointerTracker.currentPointers[0], event);\n\n\t\t\t\t\ttempLink = {\n\t\t\t\t\t\tid: node.id + '-to-',\n\t\t\t\t\t\tsource: { id: node.id },\n\t\t\t\t\t\ttarget: { id: MARKER },\n\t\t\t\t\t\topts: {\n\t\t\t\t\t\t\tlabel: {\n\t\t\t\t\t\t\t\tenabled: true,\n\t\t\t\t\t\t\t\tvalue: generateLinkLabel(data.nodes, node.id)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\t// unhightlight prev\n\t\t\t\t\tif (overZone) highlighters[overZone.id].highlight = false;\n\n\t\t\t\t\t// simulate mouseover for mobile\n\t\t\t\t\toverZone =\n\t\t\t\t\t\tdocument\n\t\t\t\t\t\t\t.elementFromPoint(\n\t\t\t\t\t\t\t\tpointerTracker.currentPointers[0].clientX,\n\t\t\t\t\t\t\t\tpointerTracker.currentPointers[0].clientY\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t?.closest(`[data-dropzone]`) || null;\n\n\t\t\t\t\tif (overZone?.id) {\n\t\t\t\t\t\thighlighters[overZone.id].highlight = true;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tend: (pointer, event, cancelled) => {\n\t\t\t\t\tmarker.style.display = 'none'; // so elementFromPoint gets what is underneath instead\n\t\t\t\t\t// marker = null; // this may be overkill?\n\n\t\t\t\t\tconnecting = false;\n\n\t\t\t\t\t// reset\n\t\t\t\t\tif (highlighters && overZone && overZone.id && highlighters[overZone.id].highlight) {\n\t\t\t\t\t\thighlighters[overZone.id].highlight = false;\n\t\t\t\t\t}\n\t\t\t\t\toverZone = null;\n\n\t\t\t\t\t// get closest dropzone target\n\t\t\t\t\tlet drop = document.elementFromPoint(pointer.clientX, pointer.clientY);\n\t\t\t\t\tlet zone = drop.closest(`[data-dropzone]`);\n\n\t\t\t\t\t// remove temp tempLink\n\t\t\t\t\ttempLink = null;\n\n\t\t\t\t\tif (!zone || !zone?.id || !node || !node?.id) return;\n\n\t\t\t\t\t// update links\n\t\t\t\t\tconst newLink = {\n\t\t\t\t\t\tid: node.id + '-to-' + zone.id,\n\t\t\t\t\t\tsource: { id: node.id },\n\t\t\t\t\t\ttarget: { id: zone.id },\n\t\t\t\t\t\topts: {\n\t\t\t\t\t\t\tlabel: {\n\t\t\t\t\t\t\t\tenabled: true,\n\t\t\t\t\t\t\t\tvalue: generateLinkLabel(data.nodes, node.id, zone.id)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\tconsole.log({ newLink });\n\n\t\t\t\t\tdata.links = [...data.links, newLink];\n\n\t\t\t\t\t// emit data via event\n\t\t\t\t\tif (options?.dataset || zone?.dataset?.dataset) {\n\t\t\t\t\t\tconst detail = {\n\t\t\t\t\t\t\tsource: { dataset: options?.dataset || null },\n\t\t\t\t\t\t\ttarget: { dataset: zone?.dataset?.dataset ? JSON.parse(zone.dataset.dataset) : null }\n\t\t\t\t\t\t};\n\t\t\t\t\t\tconsole.log(detail);\n\n\t\t\t\t\t\tdispatch('connected', detail);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tavoidPointerEvents: true, // mkaes mobile work better\n\t\t\t\teventListenerOptions: { capture: true, passive: false } // passive: false if no need to evt.preventDefault\n\t\t\t});\n\n\t\treturn {\n\t\t\tupdate(params) {\n\t\t\t\t// the value of `params` has changed\n\t\t\t},\n\n\t\t\tdestroy() {\n\t\t\t\t// the node has been removed from the DOM\n\t\t\t}\n\t\t};\n\t}\n</script>\n\n<svelte:window\n\ton:resize={(e) => {\n\t\tdata.links = data.links;\n\t}}\n/>\n\n<div bind:this={canvas} class=\"relative\">\n\t{#if connecting}\n\t\t<!-- Show where the mouse/touch pointer is -->\n\t\t<CursorMarker bind:marker {left} {top} id={MARKER}>\n\t\t\t<slot name=\"marker\">\n\t\t\t\t<!-- Default cursor indicator marker below can be overriden in Parent Component slot -->\n\t\t\t\t<div\n\t\t\t\t\tclass=\"h-32 w-32 md:h-16 md:w-16 p-8 rounded-full shadow-xl opacity-80 select-none border-[4em] md:border-[2em] \"\n\t\t\t\t/>\n\t\t\t</slot>\n\t\t</CursorMarker>\n\t{/if}\n\n\t{#if canvas}\n\t\t<!-- The area where the connectable directive may be used (the \"let: connectable\" area) -->\n\t\t<slot {connectable} />\n\t{/if}\n\n\t<!-- TODO: Tempoary Link while connecting -->\n\t<Links links={[tempLink]} {calcOffsetFromCanvas} {...opts?.links} />\n\t<!-- All connected links (\"permanent\") -->\n\t<Links links={data.links} {calcOffsetFromCanvas} {...opts?.links} />\n\n\t<!-- highlighters -->\n\t{#each [...Object.entries(highlighters)] as [nodeid, { node, highlight }]}\n\t\t<Highlighter {node} {highlight} />\n\t{/each}\n</div>\n\n<style lang=\"postcss\"></style>\n","<script>\n\t// @ts-nocheck\n\texport let position = 'right';\n\texport let connectable;\n\texport let options = {};\n\n\tlet dot;\n\tlet offsetHeight, offsetWidth, parentHeight;\n\n\t$: if (dot) {\n\t\t// ensire parentNdoe of dot is position relative\n\t\t// otherwsier, absolute positioning of dot will be relative to the window\n\t\tdot.parentNode.style.position = 'relative';\n\n\t\tparentHeight = dot.parentNode.offsetHeight;\n\t\t// parentHeight = dot.parentNode.getBoundingClientRect().height;\n\t}\n\n\t$: top = parentHeight && offsetHeight ? parentHeight / 2 - offsetHeight / 2 : 0;\n\t$: right = offsetWidth ? -offsetWidth / 2 : 0;\n\t$: left = offsetWidth ? -offsetWidth / 2 : 0;\n</script>\n\n<svelte:window\n\ton:resize={(e) => {\n\t\ttop = top;\n\t\tleft = left;\n\t\tright = right;\n\t}}\n/>\n\n<div\n\tbind:this={dot}\n\tbind:offsetWidth\n\tbind:offsetHeight\n\tclass=\"flex absolute EndPoint\"\n\tstyle=\"top: {top}px;  {position == 'right' ? `right: ${right}px;` : `left: ${left}px;`}\"\n>\n\t<div use:connectable={options} class=\"relative\">\n\t\t<slot>\n\t\t\t<!-- Default styling of the actual endpoint -->\n\t\t\t<div\n\t\t\t\tclass=\"flex h-4 w-4 border-2 bg-blue-500 rounded-full border-blue-300 hover:ring hover:ring-blue-800\"\n\t\t\t/>\n\t\t</slot>\n\t</div>\n</div>\n\n<style lang=\"postcss\"></style>\n"],"names":["ctx","x","y","constant","pointX","pointY","link","path","_c","_b","_a","_f","_e","_d","create_if_block_1","create_if_block","curveBumpX"],"mappings":"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"}